! right now, this file doesn't contain much,
! but as new features are added, they will be included in this file.

print ""
print "Test File v1"
print "Updated 9/10/21"
print ""

start Header
    successful_tests is 0
    total_tests is 8
    
    inc_success returns Int
    
    print "Testing conditional if statement"
    if True
        successful_tests is successful_tests + 1
    endif
    
    print "Declaring a static function return type..."
    funct1 returns Int
    
    ! files are loaded relative to where the executable is launched from
    ! print "Testing file linking..."
    ! link "./VS_BUILD_OUTPUT/kepler_static/examples/link_test.kep"
    
end Header

start inc_success
    successful_tests is successful_tests + 1
end inc_success

print "Declaring a function..."
start funct1
    print "Testing scoped variables..."
    local_var is 99
    local_var2 is local_var2 + 1
    
    if local_var equals 99
        call inc_success
    endif
    
    if local_var2 equals 100
        call inc_success
    endif
    
    ! return 1
    ! actually return the value once it's added
end funct1

print "Calling a declared function..."
funct_result is call funct1
! print funct_result

print "Validating basic operations..."
! basic addition
if 2 + 2 equals 4
    call inc_success
endif

! basic subtraction
if 10 - 5 equals 5
    call inc_success
endif

! basic division
if 1.0 / 2.0 equals 0.5
    call inc_success
endif

! basic multiplication
if 2 > 8 equals 16
    call inc_success
endif

! string concatenation
if "test" + "concat" equals "testconcat"
    call inc_success
endif

print ""
! print "If you're seeing this, all tests were successful!"
if successful_tests equals total_tests
    print "All " + total_tests + " tests successful!"
endif

if successful_tests < total_tests
    print successful_tests + "/" + total_tests + " tests successful"
endif